<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings</title>
  <link rel="icon" type="image/png" sizes="130x165"
    href="/static/images/favicon-light.png?h=1078ffc38902e5af3330798c0cfeab0c"
    media="(prefers-color-scheme: no-preference)">
  <link rel="icon" type="image/png" sizes="130x165"
    href="/static/images/favicon-dark.png?h=1078ffc38902e5af3330798c0cfeab0c" media="(prefers-color-scheme: dark)">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="manifest" href="/manifest.json?h=1925185a4fdbc423b5c4a32f4cfda507">
  <link rel="stylesheet" href="/static/css/Inter.css?h=2b6b187577b77bbecfd8e0c0ba7be8a4">
  <link rel="stylesheet" href="/static/css/Poppins.css?h=3b3aefe71f57d702393cff5e84476a7a">
  <link rel="stylesheet" href="/static/css/bs-theme-overrides.css?h=c5ea18736f8f7fad3c119301c412bdf6">
  <link rel="stylesheet" href="/static/css/QR-Scanner.css?h=376092ebd9ede60f9d6ca2aea2b07df6">

  <script>
    (function () {



      const getStoredTheme = () => localStorage.getItem('theme');
      const setStoredTheme = theme => localStorage.setItem('theme', theme);
      const forcedTheme = document.documentElement.getAttribute('data-bss-forced-theme');

      const getPreferredTheme = () => {

        if (forcedTheme) return forcedTheme;

        const storedTheme = getStoredTheme();
        if (storedTheme) {
          return storedTheme;
        }

        const pageTheme = document.documentElement.getAttribute('data-bs-theme');

        if (pageTheme) {
          return pageTheme;
        }

        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }

      const setTheme = theme => {
        if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.setAttribute('data-bs-theme', 'dark');
        } else {
          document.documentElement.setAttribute('data-bs-theme', theme);
        }
      }

      setTheme(getPreferredTheme());

      const showActiveTheme = (theme, focus = false) => {
        const themeSwitchers = [].slice.call(document.querySelectorAll('.theme-switcher'));

        if (!themeSwitchers.length) return;

        document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
          element.classList.remove('active');
          element.setAttribute('aria-pressed', 'false');
        });

        for (const themeSwitcher of themeSwitchers) {

          const btnToActivate = themeSwitcher.querySelector('[data-bs-theme-value="' + theme + '"]');

          if (btnToActivate) {
            btnToActivate.classList.add('active');
            btnToActivate.setAttribute('aria-pressed', 'true');
          }
        }
      }

      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
        const storedTheme = getStoredTheme();
        if (storedTheme !== 'light' && storedTheme !== 'dark') {
          setTheme(getPreferredTheme());
        }
      });

      window.addEventListener('DOMContentLoaded', () => {
        showActiveTheme(getPreferredTheme());

        document.querySelectorAll('[data-bs-theme-value]')
          .forEach(toggle => {
            toggle.addEventListener('click', (e) => {
              e.preventDefault();
              const theme = toggle.getAttribute('data-bs-theme-value');
              setStoredTheme(theme);
              setTheme(theme);
              showActiveTheme(theme);
            })
          })
      });
    })();
  </script>
</head>

<body>
  <!-- Start: Navbar -->
  <section>
    <nav class="navbar navbar-expand-md navbar-dark bg-primary">
      <div class="container-fluid">
        <div class="d-flex align-items-center ">
          <button class="btn btn-primary btn-lg me-2" type="button" onclick="location.href='/back-by-role'">
            <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor"
              class="bi bi-chevron-left" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
            </svg>
          </button>
          <h3 class="mb-0" style="color: white">Settings</h3>
        </div>
      </div>
    </nav>
  </section>
  <!-- End: Navbar -->
  <br>
  <div class="container">
    <div class="row justify-content-center">
      <!-- Profile Icon -->
      <div style="text-align: center;">
        <svg xmlns="http://www.w3.org/2000/svg" width="4em" height="4em" fill="currentColor" class="bi bi-person-circle"
          viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path>
          <path fill-rule="evenodd"
            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z">
          </path>
        </svg>
      </div>
      <!-- name of user that displays on the top of the page -->
      <h6 class="d-flex justify-content-center" style="margin-top: 15px;">{{first_name}} {{last_name}}</h6>

      <!-- Form  Start -->
      <form class="row g-3" method="post" action="/edit-profile" style="margin-bottom: 0;">
        <!-- First Name -->
        <div class="col-12">

          <label for="firstName" class="form-label" style="color: gray;">First Name</label>
          <div class="input-group">
            <input type="text" class="form-control" name="first_name" id="firstName" placeholder="{{first_name}}"
              disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('firstName')">Change</button>
          </div>
        </div>

        <!-- Last Name -->
        <div class="col-12">

          <label for="lastName" class="form-label" style="color: gray;">Last Name</label>
          <div class="input-group">
            <input type="text" class="form-control" name="last_name" id="lastName" placeholder="{{last_name}}" disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('lastName')">Change</button>
          </div>
        </div>

        <!-- Phone -->
        <div class="col-12">

          <label for="phone" class="form-label" style="color: gray;">Phone</label>
          <div class="input-group">
            <input type="text" class="form-control " name="telephone" id="phone"
              placeholder="{{current_user_details.telephone}}" disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('phone')">Change</button>
          </div>
        </div>

        <!-- ODS Certification -->
        <div class="col-12">

          <label for="odsCertification" class="form-label" style="color: gray;">ODS Certification</label>
          <div class="input-group">
            <input type="text" class="form-control" name="ods_licence_number" id="odsCertification"
              placeholder="{{ods_licence_number}}" disabled>
            <button class="btn btn-outline-secondary" type="button"
              onclick="enableEditing('odsCertification')">Change</button>
          </div>
        </div>

        <!-- Address -->
        <div class="col-12">

          <label for="address" class="form-label" style="color: gray;">Street Address</label>
          <div class="input-group">
            <input type="text" class="form-control" name="address" id="address"
              placeholder="{{current_user_details.address}}" disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('address')">Change</button>
          </div>
        </div>

        <!-- Apartment, Suite, etc. -->
        <div class="col-12">

          <label for="apartment" class="form-label" style="color: gray;">Apartment, Suite, etc.</label>
          <div class="input-group">
            <input type="text" class="form-control" name="suite_number" id="apartment"
              placeholder="{{current_user_details.suite_number}}" disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('apartment')">Change</button>
          </div>
        </div>

        <!-- Province/State -->
        <div class="col-12">

          <label for="province" class="form-label" style="color: gray;">Province/State</label>
          <div class="input-group">
            <input type="text" class="form-control" name="province" id="province"
              placeholder="{{current_user_details.province}}" disabled>
            <button class="btn btn-outline-secondary" type="button" onclick="enableEditing('province')">Change</button>
          </div>
        </div>

        <!-- Postal Code -->
        <div class="mb-5">
          <label for="postalCode" class="form-label" style="color: gray;">Postal Code</label>
          <div class="input-group">
            <input type="text" class="form-control" name="postal_code" id="postalCode"
              placeholder="{{current_user_details.postal_code}}" disabled>
            <button class="btn btn-outline-secondary" type="button"
              onclick="enableEditing('postalCode')">Change</button>
          </div>
        </div>

        <div class="d-flex flex-column justify-content-center" style="margin-bottom: 15px;">
          <button class="btn btn-primary btn-lg" type="submit">Update Profile</button>
        </div>
      </form>

    </div>
    <!-- ... additional scripts ... -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      function enableEditing(fieldId) {
        var inputField = document.getElementById(fieldId);
        inputField.disabled = false;
        inputField.focus();
      }
    </script>
</body>